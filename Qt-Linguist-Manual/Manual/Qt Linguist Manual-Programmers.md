# Qt Linguist Manual:Programmers

在Qt应用程序中，对多种语言的支持非常简单，并且对程序员的工作量几乎没有增加开销。

Qt通过在创建每个窗口时翻译短语来最大程度地减少使用翻译的性能成本。 在大多数应用程序中，主窗口仅创建一次。 对话框通常创建一次，然后根据需要显示和隐藏。 初始翻译一旦完成，翻译后的窗口将不再有运行时开销。 只有那些创建，销毁和随后创建的窗口才需要翻译。

使用Qt可以创建可以在运行时切换语言的应用程序，但是需要一定数量的程序员干预，这当然会导致运行时性能损失。

## 1.Making the Application Translation-Aware

程序员应让其应用程序查找并加载适当的翻译文件，并将用户可见的文本和Ctrl键盘加速器标记为翻译目标。

每条需要翻译的文本都需要上下文，以帮助翻译人员识别文本在程序中的位置。 在需要相同翻译的多个相同文本的情况下，翻译人员还需要一些信息来消除源文本的歧义。 将文本标记为翻译将自动使类名称用作基本上下文信息。 在某些情况下，程序员可能需要添加其他信息来帮助翻译人员。

### Creating Translation Files

翻译文件包含应用程序中所有用户可见的文本和Ctrl键加速器以及该文本的翻译。 翻译文件的创建如下：

- 首先运行lupdate，以生成第一组TS翻译源文件，其中包含所有用户可见的文本，但不包含翻译。
- TS文件将提供给使用Qt语言学家添加翻译的翻译人员。 Qt Linguist负责任何更改或删除的源文本。
- 运行lupdate以合并添加到应用程序中的所有新文本。 lupdate将应用程序中用户可见的文本与翻译同步； 它不会破坏任何数据。
- 根据需要重复执行步骤2和3。
- 当需要发布应用程序时，将运行lrelease以读取TS文件并在运行时生成应用程序使用的QM文件。